---
title: Reference - Agent configuration
linkTitle: Reference - Agent configuration
draft: false
weight: 30
---
Use variables to control your Discovery and Traceability agents.

As the Discovery and Traceability agents share many parameters, it is more efficient to use environment variables and reference these parameters instead of declaring parameters twice.

To maintain a shareable collection of environment files, you can create a `da_env_vars.env` (Discovery Agent) and `ta_env_vars.env` (Traceability Agent) file per environment, which contain simple key value pairs. By default, agent configuration files are looking for corresponding environment variables before looking on the configuration file property. This file can be used for both modes of the agent (binary vs Docker container).
  
{{< alert title="Note" color="primary" >}}The agent (binary mode) will accept an argument pointing to the environment variables file, which you can point to the `da_env_vars.env` or `ta_env_vars.env` file. Use the --envFile `da_env_vars.env` argument with either agent, pointing to the file for that agent. <br />The Docker image of the agent is expecting this `da_env_vars.env` or `ta_env_vars.env` as an argument of the Docker runner `docker run --env-file <PATH>/da_env_vars.env...`{{< /alert >}}

Some variables/properties have default known values, so it is not necessary to parameter them.

If you want to benefit from the advanced agents features (SSL security / proxy access / logging), the following section describes the variables the agents (Discovery / Traceability) rely on.

## Complete variable list for advance features

You can extend the previous minimum variable list with the following variables. Some are common to all agents, and some are specific to an agent.

### Common variables to both agents

All common agent variables can be found [here](/docs/connect_manage_environ/connected_agent_common_reference/agent-variables#agent-variables).

| Variable name                                         | Description                                                                                                                                                                                                                                       |
| ----------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| KAFKA_CLOUD_ENABLED                                   | When set to TRUE, the agent is configured to use Confluent Cloud.                                                                                                                                                                                 |
| KAFKA_CLOUD_ENVIRONMENT                               | The identifier of the Confluent Cloud environment.                                                                                                                                                                                                |
| KAFKA_CLOUD_TIMEOUT                                   | The timeout for Confluent Cloud clients.                                                                                                                                                                                                          |
| KAFKA_CLOUD_AUTH_APIKEY_ID                            | The cloud API key associated to the Confluent Cloud environment.                                                                                                                                                                                  |
| KAFKA_CLOUD_AUTH_APIKEY_SECRET                        | The secret for the cloud API key.                                                                                                                                                                                                                 |
| KAFKA_CLUSTER_ID                                      | The identifier for the Kafka cluster within the Confluent Cloud environment.                                                                                                                                                                      |
| KAFKA_CLUSTER_AUTH_APIKEY_ID                          | The API key associated to the Confluent Cloud cluster.                                                                                                                                                                                            |
| KAFKA_CLUSTER_AUTH_APIKEY_SECRET                      | The secret for the cluster API key.                                                                                                                                                                                                               |
| KAFKA_CLUSTER_SERVERS                                 | The bootstrap server that the agent uses to communicate with the Kafka cluster when configured to use the Confluent Platform.                                                                                                                     |
| KAFKA_CLUSTER_TIMEOUT                                 | The timeout for Kafka cluster client.                                                                                                                                                                                                             |
| KAFKA_CLUSTER_AUTH_SASL_MECHANISM                     | The SASL authentication mechanism (PLAIN, SCRAM-SHA-256 or SCRAM-SHA-512, OAUTHBEARER) that the agent will use to communicate with the Kafka cluster within the Confluent Platform.                                                               |
| KAFKA_CLUSTER_AUTH_SASL_USERNAME                      | The SASL username used for authenticating with the Kafka cluster.                                                                                                                                                                                 |
| KAFKA_CLUSTER_AUTH_SASL_PASSWORD                      | The password for the SASL user for authenticating with the Kafka cluster.                                                                                                                                                                         |
| KAFKA_CLUSTER_AUTH_SASL_OAUTH_TOKENURL                | The OAUTH/OIDC token endpoint to acquire bearer token for the OAUTHBEARER authentication with the Kafka cluster.                                                                                                                                  |
| KAFKA_CLUSTER_AUTH_SASL_OAUTH_CLIENTID                | The OAUTH/OIDC client id for the OAUTHBEARER authentication with the Kafka cluster.                                                                                                                                                               |
| KAFKA_CLUSTER_AUTH_SASL_OAUTH_CLIENTSECRET            | The OAUTH/OIDC client secret for the OAUTHBEARER authentication with the Kafka cluster.                                                                                                                                                           |
| KAFKA_CLUSTER_AUTH_SASL_OAUTH_SCOPES                  | The comma separated list of OAUTH/OIDC scopes for the OAUTHBEARER authentication with the Kafka cluster.                                                                                                                                          |
| KAFKA_CLUSTER_AUTH_SASL_OAUTH_TIMEOUT                 | The timeout for OAUTH/OIDC client to acquire token for the OAUTHBEARER authentication with the Kafka cluster.                                                                                                                                     |
| KAFKA_SCHEMAREGISTRY_ENABLED                          | When set to TRUE, the Discovery Agent is configured to use the Schema registry to discover schema associated to the topic for preparing the AsyncAPI specification.                                                                               |
| KAFKA_SCHEMAREGISTRY_URL                              | The base URL that the Discovery Agent uses to communicate with the Schema registry when configured to use the Confluent Platform.                                                                                                                 |
| KAFKA_SCHEMAREGISTRY_TIMEOUT                          | The timeout for Schema registry client.                                                                                                                                                                                                           |
| KAFKA_SCHEMAREGISTRY_AUTH_APIKEY_ID                   | The API key associated to the Schema registry in the Confluent Cloud/Confluent Platform.                                                                                                                                                          |
| KAFKA_SCHEMAREGISTRY_AUTH_APIKEY_SECRET               | The secret for the Schema registry API key in Confluent Cloud.                                                                                                                                                                                    |
| KAFKA_SCHEMAREGISTRY_AUTH_SASL_MECHANISM              | The SASL authentication mechanism (PLAIN, SCRAM-SHA-256 or SCRAM-SHA-512, OAUTHBEARER) that the agent will use to communicate with the Schema registry within the Confluent Platform.                                                             |
| KAFKA_SCHEMAREGISTRY_AUTH_SASL_USERNAME               | The SASL username used for authenticating with the Schema registry.                                                                                                                                                                               |
| KAFKA_SCHEMAREGISTRY_AUTH_SASL_PASSWORD               | The password for the SASL user for authenticating with the Schema registry.                                                                                                                                                                       |
| KAFKA_SCHEMAREGISTRY_AUTH_SASL_OAUTH_TOKENURL         | The OAUTH/OIDC token endpoint to acquire bearer token for the OAUTHBEARER authentication with the Schema registry.                                                                                                                                |
| KAFKA_SCHEMAREGISTRY_AUTH_SASL_OAUTH_CLIENTID         | The OAUTH/OIDC client id for the OAUTHBEARER authentication with the Schema registry.                                                                                                                                                             |
| KAFKA_SCHEMAREGISTRY_AUTH_SASL_OAUTH_CLIENTSECRET     | The OAUTH/OIDC client secret for the OAUTHBEARER authentication with the Schema registry.                                                                                                                                                         |
| KAFKA_SCHEMAREGISTRY_AUTH_SASL_OAUTH_SCOPES           | The comma separated list of OAUTH/OIDC scopes for the OAUTHBEARER authentication with the Schema registry.                                                                                                                                        |
| KAFKA_SCHEMAREGISTRY_AUTH_SASL_OAUTH_TIMEOUT          | The timeout for OAUTH/OIDC client to acquire token for the OAUTHBEARER authentication with the Schema registry.                                                                                                                                   |
| KAFKA_FILTER                                          | Filter condition expression for discovering API based on topic name. The conditional expression must have \"tag\" as the prefix/selector. For example, `tag.some_topic_name.Exists() == true` or `tag.MatchRegEx("topic_name_starts_with.*")`.    |
